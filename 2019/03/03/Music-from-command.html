<!DOCTYPE html>
<html>
  <head>
    <title>Music from command line – Nathan Do – ...</title>

        <meta charset="utf-8" />
    <meta content='text/html; charset=utf-8' http-equiv='Content-Type'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1.0'>

    
    <meta name="description" content="Pretty sure I am very late to the game but only recently I’ve found out how to 
download and listen to music right from the Terminal (or iTerm2, whichever your terminal is).

" />
    <meta property="og:description" content="Pretty sure I am very late to the game but only recently I’ve found out how to 
download and listen to music right from the Terminal (or iTerm2, whichever your terminal is).

" />
    
    <meta name="author" content="Nathan Do" />

    
    <meta property="og:title" content="Music from command line" />
    <meta property="twitter:title" content="Music from command line" />
    
    <!-- Global Site Tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-87712266-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-87712266-1');
</script>


    <!--[if lt IE 9]>
      <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="/plugins/foundation/foundation.min.css" />
    <link rel="stylesheet" type="text/css" href="/plugins/simple-line-icons/css/simple-line-icons.css" />
    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link rel="alternate" type="application/rss+xml" title="Nathan Do - ..." href="/feed.xml" />
    <!-- Created with Jekyll Now - http://github.com/barryclark/jekyll-now -->
  </head>

  <body>
    <div class="header">
  <div class="grid-container">
    <div class="grid-x grid-padding-x grid-padding-y">
      <header class="large-12 cell">
        <a href="/" class="site-avatar"><img src="https://avatars3.githubusercontent.com/u/1678810?s=100" /></a>

        <div class="site-info">
          <h1 class="site-name"><a href="/">Nathan Do</a></h1>
          <p class="site-description">...</p>
        </div>

        <nav class="main-nav">
          <a href="/tag/health">Health</a>
          <a href="/tag/tech">Tech</a>
          <a href="/tag/life">Life</a>
          <!-- Language switcher -->
          
            
            <a id="btn-lang" data-toggle="lang-switcher" href="#" aria-expanded="true">
              <img class="flag-img" src="/images/flags/uk.png">
            </a>
            
          
            
          
          <ul id="lang-switcher" class="dropdown-pane" data-dropdown
              data-position="bottom" data-alignment="right" data-v-offset="10" >
            
              
              
              <li>
                <a class="flag-link" href="/">
                    <img class="flag-img" src="/images/flags/uk.png">
                    <span>English</span>
                </a>
              </li>
            
              
              
              <li>
                <a class="flag-link" href="/vn">
                    <img class="flag-img" src="/images/flags/vn.png">
                    <span>Vietnamese</span>
                </a>
              </li>
            
          </ul>
        </nav>


      </header>
    </div>
  </div>
</div>

    <div id="main" role="main" class="grid-container">
      <article class="post">
  <h1 class="post-title">Music from command line</h1>
  <hr class="post-title-sep">

  <div class="entry">
    <p>Pretty sure I am very late to the game but only recently I’ve found out how to 
download and listen to music right from the <code>Terminal</code> (or <code>iTerm2</code>, whichever your terminal is).</p>

<p>It’s great, everything is seamless.
My combination is <a href="https://cmus.github.io/">cmus</a> as player and <a href="https://github.com/rg3/youtube-dl">youtube-dl</a>.</p>

<h2 id="download-youtube-music-with-youtube-dl">Download youtube music with <code>youtube-dl</code></h2>
<hr />

<p><strong>1. Installation</strong><br />
On Mac, with <code>Homebrew</code>, it’s just a command away:<br />
<code>brew install youtube-dl</code></p>

<p>or with <code>MacPorts</code>:<br />
<code>sudo port install youtube-dl</code></p>

<p><strong>2. Add alias for common usage</strong><br />
<code>youtube-dl</code> is a very powerful tool to download video/audio from Youtube.<br />
Its syntax is, therefore, also pretty complicated.</p>

<p>For my usage, I simply needed the mp3 versions of the music videos. 
Also some of the meta information like artist and title should be correct at least for easier classification later.</p>

<p>So here are 3 aliases that I commonly used to make the downloading easier:</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="k">alias</span> <span class="n">ytdl</span><span class="o">=</span><span class="s2">"youtube-dl --extract-audio --audio-format mp3 --add-metadata --metadata-from-title </span><span class="se">\"</span><span class="s2">(?P&lt;title&gt;.+?) (-|_|</span><span class="se">\|</span><span class="s2">) (?P&lt;artist&gt;.+)</span><span class="se">\"</span><span class="s2"> -o </span><span class="se">\"</span><span class="s2">%(title)s.mkv</span><span class="se">\"</span><span class="s2">"</span>  
<span class="k">alias</span> <span class="n">ytdl</span><span class="o">-</span><span class="n">atal</span><span class="o">=</span><span class="s2">"youtube-dl --extract-audio --audio-format mp3 --add-metadata --metadata-from-title </span><span class="se">\"</span><span class="s2">(?P&lt;title&gt;.+?) (-|_|</span><span class="se">\|</span><span class="s2">) (?P&lt;artist&gt;.+) (-|_|</span><span class="se">\|</span><span class="s2">|</span><span class="se">\(</span><span class="s2">) (?P&lt;album&gt;.+)</span><span class="se">\"</span><span class="s2"> -o </span><span class="se">\"</span><span class="s2">%(title)s.mkv</span><span class="se">\"</span><span class="s2">"</span>
<span class="k">alias</span> <span class="n">ytdl</span><span class="o">-</span><span class="n">ta</span><span class="o">=</span><span class="s2">"youtube-dl --extract-audio --audio-format mp3 --add-metadata --metadata-from-title </span><span class="se">\"</span><span class="s2">(?P&lt;artist&gt;.+?) (-|_|</span><span class="se">\|</span><span class="s2">) (?P&lt;title&gt;.+)</span><span class="se">\"</span><span class="s2"> -o </span><span class="se">\"</span><span class="s2">%(title)s.mkv</span><span class="se">\"</span><span class="s2">"</span></code></pre></figure>

<p>You can put this to your <code>.bashrc</code>, and start using as follow:</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="sb">`ytdl [youtube url]`</span>  </code></pre></figure>

<p>What the commands will be doing are:</p>
<ul>
  <li>Extract audio and save the mp3 version of youtube video specify</li>
  <li>Save meta infos like <code>artist</code> and <code>title</code> according to partern</li>
</ul>

<p><strong>For <code>ytdl</code>, the pattern is:</strong> <code>[title] [separator] [artist]</code>, in which <code>[separator]</code> can be <code>-</code> or <code>_</code> or <code>|</code><br />
For example, in the case of following video:</p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/aTgXgN9fOsk" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>

<ul>
  <li>The <code>title</code> will be: <code>(Charlie Puth) Attention</code></li>
  <li>The <code>artist</code> will be:  <code>Josephine Alexandra | Fingerstyle Guitar Cover</code></li>
</ul>

<p>I used short forms of <code>artist</code> (<code>a</code>), <code>title</code> (<code>t</code>), <code>album</code> (<code>al</code>) as reminder how the pattern looks like</p>

<p><strong>For <code>ytdl-atal</code> (or <code>artist</code>, <code>title</code>, <code>album</code>), the pattern is:</strong> <code>[title] [separator] [artist] [separator] [album]</code>, in which <code>[separator]</code> is same as above with extra <code>(</code> in case of last separator.</p>

<p>With the same video above, if we use <code>ytdl-atal</code>  the result would be:</p>

<ul>
  <li>The <code>title</code> will be: <code>(Charlie Puth) Attention</code></li>
  <li>The <code>artist</code> will be:  <code>Josephine Alexandra</code></li>
  <li>The <code>album</code> will be:  <code>Fingerstyle Guitar Cover</code><br />
It is still not perfect yet but it is quite enough for me</li>
</ul>

<p><code>ytdl-ta</code> is just a reverse in order of <code>ytdl</code>, should be used for cases like in this video:</p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/tAKnT0g8MtA" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>

<p>Of course there will be more patterns of title you will see on youtube but those are the common ones.</p>

<h2 id="play-music-with-cmus">Play music with <code>cmus</code></h2>
<hr />

<p><strong>1. Installation</strong><br />
Again with magic of <code>Homebrew</code>, to install <code>cmus</code> on Mac is simply:<br />
<code>brew install cmus</code>
The first installation, I’ve accidentally downloaded and compiled the build on <code>https://cmus.github.io/#download</code>. But still <code>Homebrew</code> installation is much better.</p>

<p><strong>2. Usage</strong><br />
<code>cmus</code> is a very useful player when you mostly work on Terminal. Its UI has 7 views (that you can switch around using number key 1-7 once cmus open):</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="no">VIEWS</span>
       <span class="no">There</span> <span class="n">are</span> <span class="mi">7</span> <span class="n">views</span> <span class="k">in</span> <span class="n">cmus</span><span class="o">.</span>  <span class="no">Press</span> <span class="n">keys</span> <span class="mi">1</span><span class="o">-</span><span class="mi">7</span> <span class="n">to</span> <span class="n">change</span> <span class="n">active</span> <span class="n">view</span><span class="o">.</span>

       <span class="no">Library</span> <span class="n">view</span> <span class="p">(</span><span class="mi">1</span><span class="p">)</span>
              <span class="no">Display</span> <span class="n">all</span> <span class="n">tracks</span> <span class="k">in</span> <span class="n">so</span><span class="o">-</span><span class="n">called</span> <span class="n">library</span><span class="o">.</span> <span class="no">Tracks</span> <span class="n">are</span> <span class="n">sorted</span>
              <span class="n">artist</span><span class="o">/</span><span class="n">album</span> <span class="n">tree</span><span class="o">.</span>  <span class="no">Artist</span> <span class="n">sorting</span> <span class="n">is</span> <span class="n">done</span> <span class="n">alphabetically</span><span class="o">.</span>
              <span class="no">Albums</span> <span class="n">are</span> <span class="n">sorted</span> <span class="n">by</span> <span class="n">year</span><span class="o">.</span>

       <span class="no">Sorted</span> <span class="n">library</span> <span class="n">view</span> <span class="p">(</span><span class="mi">2</span><span class="p">)</span>
              <span class="no">Displays</span> <span class="n">same</span> <span class="n">content</span> <span class="n">as</span> <span class="n">view</span> <span class="mi">1</span><span class="p">,</span> <span class="n">but</span> <span class="n">as</span> <span class="n">a</span> <span class="n">simple</span> <span class="n">list</span> <span class="n">which</span> <span class="n">is</span>
              <span class="n">automatically</span> <span class="n">sorted</span> <span class="n">by</span> <span class="n">user</span> <span class="n">criteria</span><span class="o">.</span>

       <span class="no">Playlist</span> <span class="n">view</span> <span class="p">(</span><span class="mi">3</span><span class="p">)</span>
              <span class="no">Displays</span> <span class="n">editable</span> <span class="n">playlist</span> <span class="n">with</span> <span class="n">optional</span> <span class="n">sorting</span><span class="o">.</span>

       <span class="no">Play</span> <span class="no">Queue</span> <span class="n">view</span> <span class="p">(</span><span class="mi">4</span><span class="p">)</span>
              <span class="no">Displays</span> <span class="n">queue</span> <span class="n">of</span> <span class="n">tracks</span> <span class="n">which</span> <span class="n">are</span> <span class="n">played</span> <span class="k">next</span><span class="o">.</span> <span class="no">These</span> <span class="n">tracks</span> <span class="n">are</span>
              <span class="n">played</span> <span class="n">before</span> <span class="n">anything</span> <span class="k">else</span> <span class="p">(</span><span class="n">i</span><span class="p">.</span><span class="nf">e</span><span class="p">.</span> <span class="nf">the</span> <span class="n">playlist</span> <span class="n">or</span> <span class="n">library</span><span class="p">)</span><span class="o">.</span>

       <span class="no">Browser</span> <span class="p">(</span><span class="mi">5</span><span class="p">)</span>
              <span class="no">Directory</span> <span class="n">browser</span><span class="o">.</span>  <span class="no">In</span> <span class="n">this</span> <span class="n">view</span><span class="p">,</span> <span class="n">music</span> <span class="n">can</span> <span class="n">be</span> <span class="n">added</span> <span class="n">to</span> <span class="n">either</span>
              <span class="n">the</span> <span class="n">library</span><span class="p">,</span> <span class="n">playlist</span> <span class="n">or</span> <span class="n">queue</span> <span class="n">from</span> <span class="n">the</span> <span class="n">filesystem</span><span class="o">.</span>

       <span class="no">Filters</span> <span class="n">view</span> <span class="p">(</span><span class="mi">6</span><span class="p">)</span>
              <span class="no">Lists</span> <span class="n">user</span> <span class="n">defined</span> <span class="n">filters</span><span class="o">.</span>

       <span class="no">Settings</span> <span class="n">view</span> <span class="p">(</span><span class="mi">7</span><span class="p">)</span>
              <span class="no">Lists</span> <span class="n">keybindings</span><span class="p">,</span> <span class="n">unbound</span> <span class="n">commands</span> <span class="n">and</span> <span class="n">options</span><span class="o">.</span>  <span class="no">Remove</span>
              <span class="n">bindings</span> <span class="n">with</span> <span class="no">D</span> <span class="n">or</span> <span class="n">del</span><span class="p">,</span> <span class="n">change</span> <span class="n">bindings</span> <span class="n">and</span> <span class="n">variables</span> <span class="n">with</span> <span class="n">enter</span>
              <span class="n">and</span> <span class="n">toggle</span> <span class="n">variables</span> <span class="n">with</span> <span class="n">space</span><span class="o">.</span></code></pre></figure>

<p>If you are used to use terminal, it won’t be that hard to use <code>cmus</code>. But to make it easier to remember the list of commands, I recommend this <a href="https://www.cheatography.com/stephenjjohnson/cheat-sheets/cmus/pdf/">cheatsheet</a><br />
As of the 2 video above, here is what it will look like after we’ve added them in playlist:<br />
<img src="/images/2019Mar/cmus-playlist.png" alt="" /></p>

<p>One thing I definitely loved about <code>cmus</code> is that the navigation keys are <code>j</code>, <code>k</code> for up and down which is super familiar if you used <code>vim</code>. So again, everything is seamless. 
There are much more functionalities of cmus to explore and I am still in the learning process.</p>

<p>Hope you will find this useful if you are also late to the game :)</p>


  </div>

  <div class="date">
    Written on March  3, 2019
  </div>

  
<div class="comments">
	<div id="disqus_thread"></div>
	<script type="text/javascript">

	    var disqus_shortname = 'nathandlb-com';

	    (function() {
	        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
	        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
	        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
	    })();

	</script>
	<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>

</article>

    </div>
    <div class="wrapper-footer">
      <div class="container">
        <footer class="footer">
          <a target="_blank" href="https://github.com/nathando"><i class="svg-icon github"></i></a>
<a target="_blank" href="https://www.quora.com/profile/Nathan-Do"><i class="svg-icon quora"></i></a>
<a target="_blank" title="Zenbookmaps - Book summaries and mindmaps" href="http://zenbookmaps.com/"><i class="svg-icon zenbook"></i></a>





<a target="_blank" href="https://www.linkedin.com/in/nathando"><i class="svg-icon linkedin"></i></a>


<a target="_blank" href="https://www.twitter.com/nathandlb"><i class="svg-icon twitter"></i></a>
<a target="_blank" href="http://stackoverflow.com/users/1149484/nathan-do"><i class="svg-icon stackoverflow"></i></a>



        </footer>
      </div>
    </div>

    
	<!-- Google Analytics -->
	<script>
		(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

		ga('create', 'UA-104939362-1', 'auto');
		ga('send', 'pageview', {
		  'page': '/2019/03/03/Music-from-command.html',
		  'title': 'Music from command line'
		});
	</script>
	<!-- End Google Analytics -->


    <script type="text/javascript" src="/plugins/jquery/jquery.js"></script>
    <script type="text/javascript" src="/plugins/foundation/foundation.min.js"></script>
    <script type="text/javascript" src="/js/main.js"></script>
  </body>
</html>
