<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="3.9.1">Jekyll</generator><link href="/feed.xml" rel="self" type="application/atom+xml" /><link href="/" rel="alternate" type="text/html" /><updated>2022-03-30T00:04:49+08:00</updated><id>/feed.xml</id><title type="html">Nathan Do</title><subtitle>life_of.py</subtitle><entry xml:lang="en"><title type="html">Back to Singapore after 2 years</title><link href="/2022/03/29/Back-to-Singapore.html" rel="alternate" type="text/html" title="Back to Singapore after 2 years" /><published>2022-03-29T00:00:00+08:00</published><updated>2022-03-29T00:00:00+08:00</updated><id>/2022/03/29/Back-to-Singapore</id><content type="html" xml:base="/2022/03/29/Back-to-Singapore.html"></content><author><name></name></author><category term="life" /><summary type="html"></summary></entry><entry xml:lang="en"><title type="html">Upgrade ERPNext from v5 to v13</title><link href="/2021/08/24/ERPNext-Upgrade-from-5-to-13.html" rel="alternate" type="text/html" title="Upgrade ERPNext from v5 to v13" /><published>2021-08-24T00:00:00+08:00</published><updated>2021-08-24T00:00:00+08:00</updated><id>/2021/08/24/ERPNext-Upgrade-from-5-to-13</id><content type="html" xml:base="/2021/08/24/ERPNext-Upgrade-from-5-to-13.html">&lt;h2 id=&quot;why-&quot;&gt;Why ?&lt;/h2&gt;
&lt;p&gt;My ERPNext venture has been halted for a long while. However, we do have an existing customer to support.&lt;br /&gt;
They have been using the system for a long while without any issue. 
However, no upgrade means no new features and this time they are really in need of that&lt;/p&gt;

&lt;h2 id=&quot;first-attempt---total-failure-&quot;&gt;First attempt - total failure …&lt;/h2&gt;
&lt;p&gt;So the first thing I’ve tried was just going head on with upgrading (on a brand new clone of the server, of course).&lt;br /&gt;
And it turned out … terribly. How’s so ?&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;If there are custom change on your erpnext repository, you have to reset it to master branch first&lt;/li&gt;
  &lt;li&gt;If you have custom modules, of course, disable them first&lt;/li&gt;
  &lt;li&gt;Script to upgrade then run based on your current database and the amount of changes are crazy&lt;/li&gt;
  &lt;li&gt;v5 was using python2 and v13 is using python3 (of course)&lt;/li&gt;
  &lt;li&gt;There is no minimal success baseline for you to build upon. Everything just failed.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;In fact, after spending a few days on this, I was about to give up all together…&lt;/p&gt;

&lt;h2 id=&quot;second-attempt---finally-see-some-lights&quot;&gt;Second attempt - finally see some lights&lt;/h2&gt;
&lt;p&gt;Now, breathe and take a step back. This is not the only (real) way.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Back up the data (the database and the media files)&lt;/li&gt;
  &lt;li&gt;Back up the changes you have customised on&lt;/li&gt;
  &lt;li&gt;Install the completely new version&lt;/li&gt;
  &lt;li&gt;Restore the database on this new instance&lt;/li&gt;
  &lt;li&gt;Run migrations (–skip-failure)&lt;/li&gt;
  &lt;li&gt;Try to fix migration issues one by one&lt;/li&gt;
  &lt;li&gt;Manually migrate certain data that has been changed&lt;/li&gt;
  &lt;li&gt;Reapply changes from modules and customizations&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;steps-that-i-have-taken&quot;&gt;Steps that I have taken&lt;/h3&gt;

&lt;ol&gt;
  &lt;li&gt;Back up old Instance &lt;code&gt;bench backup —with-files&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;Install new install v13 vanila&lt;/li&gt;
  &lt;li&gt;Download all files to new instance and make sure have enough space.
So that when you restore it doesn’t fail because not enough space.&lt;/li&gt;
  &lt;li&gt;&lt;code&gt;bench mariadb&lt;/code&gt; and &lt;a href=&quot;https://dev.mysql.com/doc/refman/8.0/en/repair-table.html&quot;&gt;Repair table&lt;/a&gt; in mariadb&lt;/li&gt;
  &lt;li&gt;Then restore the database and files with
    &lt;pre&gt;&lt;code class=&quot;language-shell&quot;&gt;bench restore path/to/sql --with-public-files path/to/public_files.gz --with-private-files path/to/private_files.gz
&lt;/code&gt;&lt;/pre&gt;
  &lt;/li&gt;
  &lt;li&gt;Migrate but skipp all failed migrations: &lt;code&gt;bench migrate —skip-failing&lt;/code&gt;
From here on it depend on what errors will you encounter.&lt;/li&gt;
  &lt;li&gt;Set Email Account uidnext = 0&lt;/li&gt;
&lt;/ol&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;k&quot;&gt;set&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sql_safe_updates&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;update&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;`tabEmail Account`&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;set&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;uidnext&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&apos;0&apos;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;where&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;trim&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;coalesce&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;uidnext&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&apos;&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&apos;&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;set&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sql_safe_updates&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;ol&gt;
  &lt;li&gt;Delete Custom Field sales_uom -&amp;gt; might want to copy data&lt;/li&gt;
&lt;/ol&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;`tabCustom Field`&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;where&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;name&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;like&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&apos;%sales_uom%&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;delete&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;`tabCustom Field`&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;where&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;name&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&apos;Item-sales_uom&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;delete&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;`tabCustom Field`&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;where&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;name&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&apos;Item-purchase_uom&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;ol&gt;
  &lt;li&gt;Quotation Item: Copy Stock UOM to UOM for existing items&lt;/li&gt;
&lt;/ol&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;k&quot;&gt;set&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sql_safe_updates&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;update&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;`tabQuotation Item`&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;set&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;uom&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;stock_uom&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;set&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sql_safe_updates&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;ol&gt;
  &lt;li&gt;Solve patch issue
&lt;strong&gt;Patch: erpnext.patches.v11_0.create_salary_structure_assignments&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span class=&quot;n&quot;&gt;pymysql&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;err&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;OperationalError&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1054&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;Unknown column &apos;sse.from_date&apos; in &apos;field list&apos;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Fix:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;k&quot;&gt;alter&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;table&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;`tabSalary Structure Employee`&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;add&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;column&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;from_date&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;DATETIME&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;DEFAULT&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;current_timestamp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;to_date&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;DATETIME&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;DEFAULT&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;current_timestamp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;());&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;set&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sql_safe_updates&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;update&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;`tabSalary Structure Employee`&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;set&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;from_date&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&apos;2021-01-01 00:00:00&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;update&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;`tabSalary Structure Employee`&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;set&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;to_date&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&apos;2021-12-31 00:00:00&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;set&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sql_safe_updates&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;ol&gt;
  &lt;li&gt;Solve patch issue:&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;&lt;strong&gt;Patch: erpnext.patches.v12_0.move_item_tax_to_item_tax_template&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Fix:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;k&quot;&gt;insert&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;into&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;`tabSingles`&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;doctype&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;field&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;values&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&apos;Accounts Settings&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&apos;allow_stale&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;insert&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;into&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;`tabSingles`&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;doctype&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;field&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;values&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&apos;Accounts Settings&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&apos;stale_days&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;ol&gt;
  &lt;li&gt;Solve patch issue 
&lt;strong&gt;Patch: erpnext.patches.v13_0.rename_issue_doctype_fields&lt;/strong&gt;
Fix:&lt;/li&gt;
&lt;/ol&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;k&quot;&gt;update&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;`tabIssue`&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;set&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;resolution_by_variance&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;update&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;`tabIssue`&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;set&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;response_by_variance&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;ol&gt;
  &lt;li&gt;After fixing all patch issues, run &lt;code&gt;bench migrate&lt;/code&gt; again without &lt;code&gt;--skip-failing&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;Install vuejs &lt;code&gt;npm install vue (first time)&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;Run bench update &lt;code&gt;bench update —reset&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;Remember to enable scheduler &lt;code&gt;bench --site all enable-scheduler&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;At this point, hopefully you would also have a working version of new ERPNext v13 already. To be honest, that was a lot of hours (even days) of mine. And I hope someone else can find that useful.
&lt;img src=&quot;https://user-images.githubusercontent.com/13928957/106147523-f69a5000-619d-11eb-8034-e46c0493605f.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Of course, the biggest lesson would be update earlier when the work is not too intimidating…&lt;/p&gt;

&lt;p&gt;Enjoy!&lt;br /&gt;
Nathan&lt;/p&gt;</content><author><name></name></author><category term="tech" /><summary type="html">Why ? My ERPNext venture has been halted for a long while. However, we do have an existing customer to support. They have been using the system for a long while without any issue. However, no upgrade means no new features and this time they are really in need of that</summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="/images/erpnext-logo-copy.png" /></entry><entry xml:lang="vn"><title type="html">2020 - Thời gian là tương đối - 2021 Sài Gòn bị thương</title><link href="/2021/07/03/Thoi-gian-tuong-doi.html" rel="alternate" type="text/html" title="2020 - Thời gian là tương đối - 2021 Sài Gòn bị thương" /><published>2021-07-03T00:00:00+08:00</published><updated>2021-07-03T00:00:00+08:00</updated><id>/2021/07/03/Thoi-gian-tuong-doi</id><content type="html" xml:base="/2021/07/03/Thoi-gian-tuong-doi.html">&lt;h1 id=&quot;năm-2020&quot;&gt;Năm 2020&lt;/h1&gt;
&lt;p&gt;&lt;strong&gt;Tháng 2 năm 2020&lt;/strong&gt; đánh dấu ngày An ra đời giữa lúc đại dịch bắt đầu bùng phát.&lt;br /&gt;
Năm 2020 trôi qua vừa nhanh vừa chậm, theo một cách khó diễn tả.&lt;/p&gt;

&lt;p&gt;Như thể có một ai bấm &lt;strong&gt;&lt;em&gt;Pause&lt;/em&gt;&lt;/strong&gt; ở trước đại dịch và tua thật nhanh qua phần còn lại của 2020.&lt;br /&gt;
Cụm từ &lt;strong&gt;BC (Before Coronavirus)&lt;/strong&gt; ban đầu mình nói đùa với bạn bè hoá ra thành trend thật.&lt;/p&gt;

&lt;p&gt;Và nó cũng có nghĩa là đây sẽ là một cuộc chiến dài hơi.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/2021Jul/virus.jpg&quot; class=&quot;img-auto&quot; /&gt;&lt;/p&gt;

&lt;h1 id=&quot;năm-2021&quot;&gt;Năm 2021&lt;/h1&gt;
&lt;p&gt;Rồi năm 2021 đến và 4 tháng đầu trôi qua nhanh chóng với mọi việc phát triển bình thường. 
Cả công ty lên văn phòng và hầu như không còn ảnh hưởng của đại dịch… Cho đến khi …&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Biến chủng Ấn Độ&lt;/strong&gt; xuất hiện ở Việt Nam cùng lúc với &lt;strong&gt;kỳ nghỉ lễ lớn 30/4 - 1/5&lt;/strong&gt;. Đây là giây phút bất cẩn gây ra làn sóng thứ 2&lt;/p&gt;

&lt;p&gt;Giờ thì mình nghĩ là với vắc xin thì sớm muộn Corona cũng chỉ trở thành 1 loại cúm mùa tiếp theo.&lt;br /&gt;
Điểm khó khăn là vượt được qua giai đoạn này. Sài Gòn hiện này mỗi ngày đều trên 200 ca, một số ngày 400+ ca.&lt;/p&gt;

&lt;p&gt;Singapore đang làm cực tốt đối phó với chủng mới. Và họ dựa vào vắc xin.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/2021Jul/vaccine.jpg&quot; class=&quot;img-auto&quot; style=&quot;max-width:400px&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Dù sao hiện giờ mình đang rất may mắn khi công việc tiến triển bình thường online trong khi người lao động đang khó khăn kinh khủng.
Chắc chắn sẽ tìm một quỹ nào đó để quyên góp cho thành phố trong vài ngày tới&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Sài Gòn cố lên, chúng ta sẽ bật mạnh hơn gấp nhiều lần sau dịch !!!&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/2021Jul/saigon.jpg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;</content><author><name></name></author><category term="life" /><summary type="html">Năm 2020 Tháng 2 năm 2020 đánh dấu ngày An ra đời giữa lúc đại dịch bắt đầu bùng phát. Năm 2020 trôi qua vừa nhanh vừa chậm, theo một cách khó diễn tả.</summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="/images/2021Jul/time.jpg" /></entry><entry xml:lang="en"><title type="html">Death and FOMO</title><link href="/2021/05/08/Death-and-FOMO.html" rel="alternate" type="text/html" title="Death and FOMO" /><published>2021-05-08T00:00:00+08:00</published><updated>2021-05-08T00:00:00+08:00</updated><id>/2021/05/08/Death-and-FOMO</id><content type="html" xml:base="/2021/05/08/Death-and-FOMO.html">&lt;h4 id=&quot;the-shock&quot;&gt;The Shock&lt;/h4&gt;

&lt;p&gt;A friend of mine since secondary school has passed away last week. We have been sitting together on the same table (only the 2 of us) for a whole year. So much laughter and so many class rules broken. After high school, however, we have sort of gone down different paths but in my mind, he was still always very close. Always smiling and talk a lot. That’s him.&lt;/p&gt;

&lt;p&gt;Pains in my heart thinking he is still too young, in his early thirty’s, just like me. Why? When? How? Just happened that I had disabled my Facebook newsfeed months ago. The news, hence, has broken down to me really late. Tearing up slightly when joining his funeral. I don’t feel having enough time to comprehend how it was happening. I remembered coming home that day slight feverish. That whole night passed, blurry.&lt;/p&gt;

&lt;p&gt;He’s left, but his smiles stayed for all of us. The life and the impact he has was tremendous. &lt;br /&gt;
I hope he have found peace prior to passing because of the wonderful life he has.&lt;/p&gt;
&lt;div class=&quot;video-container&quot;&gt;
&lt;iframe width=&quot;560&quot; height=&quot;315&quot; src=&quot;https://www.youtube.com/embed/V1v5mAOgTJg&quot; title=&quot;YouTube video player&quot; frameborder=&quot;0&quot; allow=&quot;accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture&quot; allowfullscreen=&quot;&quot;&gt;&lt;/iframe&gt;
&lt;/div&gt;

&lt;h4 id=&quot;fomo&quot;&gt;FOMO&lt;/h4&gt;
&lt;p&gt;Today, a few days later, still being stuck at the comprehension of his passing, I just somehow remembered a movie that haunted me most of my childhood. It’s about the afterlife.&lt;/p&gt;

&lt;p&gt;In that movie, I remember vividly an image of a guy holding an umbrella jumping from place to place from cliffs to caves. Mind you, it was all dark. He met a lot of people just like him holding an umbrella, jumping around. And the generic rule of this world is if you are lighter (the more goods you do the lighter you are) then you fly to the higher level where it is more lively and if you are heavier, it’s the reverse. That seems to be the whole movie. This guy, however, keep falling no matter how hard he tried. He can jump together with several people, and they are all going up, just him going down. Finally, he is just all alone with an umbrella.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/2021May/guy-umbrella.jpg&quot; class=&quot;img-auto&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Simple and non-sense movie ? Since the day I’ve watched it, that still remains my biggest fear, being that guy after dying. What if, eventually, there would be no one left ? In my funeral and way after that ? I was super annoyed when I knew we would all be dead one day. But it was still nothing comparing to that loneliness. My fear of death doubled ever since.&lt;/p&gt;

&lt;p&gt;Growing up, I gradually learned to control that fear, that fear of being left behind, that fear of having no one around. But deep down it is still there. And it’s just in our nature, I guess, which is why there is a term for it FOMO (Fear Of Missing Out). Watching others moving forward while own self stuck at no where is not an easy feeling.&lt;/p&gt;

&lt;p&gt;His so-sudden passing made me realize that there might be no time left tomorrow for FOMOs on minor stuffs. Think about it, truth is most of the FOMOs we have today can suddenly become incredibly petty when facing Death. Essentially, to me FOMO is the same as the f&lt;em&gt;ck we’ve given in life (refer to The Art of not giving a F&lt;/em&gt;ck).&lt;/p&gt;

&lt;p&gt;It feels like someone just hit me in the face with a brick to remind that I really have to prioritize and focus. Time is precious and limited, spent it wisely with the people and to the works that are most meaningful to me. Let us end this with a quote from Steve Jobs regarding the same topic:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;When I was 17, I read a quote that went something like: ‘If you live each day as if it was your last, someday you’ll most certainly be right.’ 
It made an impression on me, and since then, for the past 33 years, I have looked in the mirror every morning and asked myself: “If today were the last day of my life, would I want to do what I am about to do today?” 
And whenever the answer has been “No” for too many days in a row, I know I need to change something.&lt;/p&gt;

  &lt;p&gt;Remembering that I’ll be dead soon is the most important tool I’ve ever encountered to help me make the big choices in life. 
Because almost everything — all external expectations, all pride, all fear of embarrassment or failure - these things just fall away in the face of death, leaving only what is truly important. 
Remembering that you are going to die is the best way I know to avoid the trap of thinking you have something to lose. 
You are already naked. There is no reason not to follow your heart.&lt;/p&gt;
  &lt;p class=&quot;author&quot;&gt;Steve Jobs&lt;/p&gt;
&lt;/blockquote&gt;

&lt;div class=&quot;video-container&quot;&gt;
&lt;iframe width=&quot;560&quot; height=&quot;315&quot; src=&quot;https://www.youtube.com/embed/xoUfvIb-9U4&quot; title=&quot;YouTube video player&quot; frameborder=&quot;0&quot; allow=&quot;accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture&quot; allowfullscreen=&quot;&quot;&gt;&lt;/iframe&gt;
&lt;/div&gt;</content><author><name></name></author><category term="life" /><summary type="html">The Shock</summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="/images/2021May/guy-umbrella.jpg" /></entry><entry xml:lang="vn"><title type="html">Viet An 2020</title><link href="/2020/03/29/Viet-An.html" rel="alternate" type="text/html" title="Viet An 2020" /><published>2020-03-29T00:00:00+08:00</published><updated>2020-03-29T00:00:00+08:00</updated><id>/2020/03/29/Viet-An</id><content type="html" xml:base="/2020/03/29/Viet-An.html">&lt;h1 id=&quot;việt-an-19feb2020&quot;&gt;Việt An 19/Feb/2020&lt;/h1&gt;
&lt;p&gt;Ngày 19 tháng 2, từ nay trở thành một ngày hết sức đặc biệt. Ngày con gái chào đời. Blog đầu tiên bằng tiếng Việt của mình đánh dấu một hành trình mới.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;An&lt;/strong&gt; sinh ra giữa lúc đại dịch đang làm xáo trộn tất cả mọi thứ. Chính phủ phải phong toả thành phố, mọi người phải giữ khoảng cách với nhau đề phòng dịch bệnh. Hàng quán phải theo lệnh đóng cửa. Điểm tích cực duy nhất là mức độ ô nhiễm của Sài Gòn giảm đáng kể, phố xá vắng lặng. Điều mà nhiều thập kỷ qua không hề thấy được. Học sinh có kỳ nghỉ Tết dài nhất trong nhiều chục năm, có lẽ là trong cả đời đi học.&lt;/p&gt;

&lt;p&gt;Lúc đang viết thì thế giới đã có hơn 600K người nhiễm bệnh, hơn 30K người đã tử vong. Từ đây đến cuối năm, khả năng cao là sẽ có suy thoái kinh tế. Hệ luỵ của việc này chắc hẳn cũng to lớn không kém thiệt hại nhân mạng. Tình trạng thất nghiệp sẽ gia tăng và đi cùng nó là tỉ lệ tội phạm.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/2020Mar/corona-29Mar.jpg&quot; class=&quot;img-auto&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Trong cái sự hỗn loạn đó, 1 tháng vừa qua có vẻ như là 1 tháng dài nhất mình đã trải qua. Nó là 1 khoảng thời gian hết sức kỳ lạ với tất cả mọi người. Ngoài việc sức lây lan và huỷ diệt khủng khiếp, COVID-19 dường như đã ép thành công gần 70-80% dân số toàn cầu sống chậm lại. Ngay cả mẹ mình, 1 giáo viên văn cấp 3, người mà mình cho là &lt;code&gt;workaholic&lt;/code&gt; nhất thế giới, vì COVID-19, mà đã bắt đầu phát triển sở thích riêng, ngồi học vẽ bút chì. Còn vợ chồng mình thì tự nhiên cả 2 được ở nhà chăm An.&lt;/p&gt;

&lt;p&gt;Đối với nhiều gia đình, đây là thời gian gần như duy nhất cả nhà được cùng quây quần bên nhau. Làm việc ở nhà (Work from home) trở thành cụm từ &lt;code&gt;hot&lt;/code&gt;, hashtag &lt;code&gt;#stayhome&lt;/code&gt; hay &lt;code&gt;social distancing&lt;/code&gt; toàn trên top trending. Trong cái hỗn loạn đó, lại có đôi phần bình an.&lt;/p&gt;

&lt;p&gt;Hầu như đối với mọi thảm hoạ, những người lao động phổ thông, thu nhập thấp đều là những người ảnh hưởng đầu tiên. Hy vọng niềm tin và lòng nhân ái sẽ là ngọn đuốc soi đường sau thời kỳ đen tối này của dịch. Và hy vọng năm &lt;strong&gt;An&lt;/strong&gt; ra đời sẽ được nhớ đến bởi sự nỗ lực của con người chống chọi với dịch hoạ thay vì những bóng đen của khủng hoảng. Và cũng như tên con, mình mong nước Việt được bình an qua khỏi sóng gió.&lt;/p&gt;

&lt;p&gt;Để bớt chán …&lt;/p&gt;
&lt;div style=&quot;text-align:center&quot;&gt;
&lt;iframe width=&quot;560&quot; height=&quot;315&quot; src=&quot;https://www.youtube.com/embed/5ATqv5Kpfyc&quot; frameborder=&quot;0&quot; allow=&quot;accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture&quot; allowfullscreen=&quot;&quot;&gt;&lt;/iframe&gt;
&lt;/div&gt;

&lt;p&gt;29 Mar 2020&lt;/p&gt;</content><author><name></name></author><category term="life" /><summary type="html">Việt An 19/Feb/2020 Ngày 19 tháng 2, từ nay trở thành một ngày hết sức đặc biệt. Ngày con gái chào đời. Blog đầu tiên bằng tiếng Việt của mình đánh dấu một hành trình mới.</summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="/images/2020Mar/baby.jpg" /></entry><entry xml:lang="en"><title type="html">A new decade</title><link href="/2020/01/01/A-new-decade.html" rel="alternate" type="text/html" title="A new decade" /><published>2020-01-01T00:00:00+08:00</published><updated>2020-01-01T00:00:00+08:00</updated><id>/2020/01/01/A-new-decade</id><content type="html" xml:base="/2020/01/01/A-new-decade.html">&lt;blockquote&gt;
  &lt;p&gt;Life was not designed to give us what we want but life was designed to give us what we deserved&lt;/p&gt;
  &lt;p class=&quot;author&quot;&gt;Jim Rohn&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Today, 01-Jan-2020, marks a new decade. 
In 2010, I was just graduated for 1 year and still working in the University as a Research Officer.&lt;/p&gt;

&lt;p&gt;The last decade has been great to me:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Celebrate the decade long of love with wifey soon and will welcome our first kid next year&lt;/li&gt;
  &lt;li&gt;Been to 7 different countries, experienced a few of different cultures. Learnt Mandarin though not fluent still.&lt;/li&gt;
  &lt;li&gt;Jumping through a few jobs ranging from Academic Research to Game development, experience totally different working environments (both good and bad).&lt;/li&gt;
  &lt;li&gt;Joining a startup and following through for the last 5 years have taught me various skill sets from development to managing people.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;img src=&quot;/images/2020Jan/startup.jpg&quot; class=&quot;img-auto&quot; /&gt;&lt;/p&gt;

&lt;p&gt;The transition from 20s to 30s, however, is rough. And it feels like a mid-life crisis is hanging there somewhere waiting for me.
But at the same time, coming back to Vietnam last year has made my mind clearer.
Last time while staying in Singapore, my purpose is blurry.
Granted that Singapore was clean, safe, and more advanced in almost all aspects but I really don’t know what I am doing there.
In Vietnam, I can tell surely that I will try my best contribute for a &lt;strong&gt;better environment and education&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/2020Jan/environment_edu.jpg&quot; class=&quot;img-auto&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Another thing only recently I have realised is the &lt;strong&gt;science of how we can grow better&lt;/strong&gt;.
Since young, I have been pretty confident about my own intellectual capacity.
And for that reason, most of the exams in my life, I usually only spent the short period right before them to study and still passed.
That was bad, in the sense that it has given me a totally wrong idea of how to master a skill or a subject.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;1% daily does beat 10% for 1 month by a far distance&lt;/strong&gt; (if anyone counting then it is 1.01^30=34.7% vs 10%).
It applies to not only money but also our growth. A bit everyday is the best way to grow.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Habit is king, not perfection (so don’t waste time trying to make it perfect)&lt;/strong&gt;. It determines our behaviors, our characteristics. And therefore, our future, our successes.
Habits make us that magnet which can attract success, habits make us what we become, therefore, what we deserved.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/2020Jan/thesun.jpg&quot; class=&quot;img-auto&quot; /&gt;&lt;/p&gt;</content><author><name></name></author><category term="life" /><summary type="html">Life was not designed to give us what we want but life was designed to give us what we deserved Jim Rohn</summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="/images/2020Jan/2020.jpg" /></entry><entry xml:lang="en"><title type="html">Binary</title><link href="/2019/11/25/When-everything-is-binary.html" rel="alternate" type="text/html" title="Binary" /><published>2019-11-25T00:00:00+08:00</published><updated>2019-11-25T00:00:00+08:00</updated><id>/2019/11/25/When-everything-is-binary</id><content type="html" xml:base="/2019/11/25/When-everything-is-binary.html">&lt;p&gt;The title might make you think that it is a tech-related post.&lt;br /&gt;
But by this &lt;code&gt;binary&lt;/code&gt;, I meant the polarizing extremes I’ve observed in life. 
And those ain’t working.&lt;/p&gt;

&lt;p&gt;In this modern world, I perceived the priorities of the people have been shifted into polarizing views of life.&lt;br /&gt;
Nowadays, with the epidemic of instant gratification, it is literally either now or never.&lt;br /&gt;
“If I buy some thing and it’s not appear in my front door in a week, I rather not having it.”&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/2019Nov/binary-sides.jpg&quot; class=&quot;img-auto&quot; /&gt;&lt;/p&gt;

&lt;p&gt;As the very end of this spectrum is the US where everything was designed for people to take sides, to start a debate:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Either you are fat shaming or you are fat glorifying.&lt;/li&gt;
  &lt;li&gt;Either you are vegan or you are cold blood animals slaughterer.&lt;/li&gt;
  &lt;li&gt;Either you are feminist or you have toxic masculinity.&lt;/li&gt;
  &lt;li&gt;Either you love guns or you are against the second amendment.&lt;/li&gt;
  &lt;li&gt;Each attached with a problem that is wrong about you, that you should feel obligation to change.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;These are revealed not for the benefit of the people but for the corporations that are selling them solutions to the perceived problems. For example, if they are serious about Obesity, fast food chains and soda drink companies should be taxed much higher so that their price is less attractive and accessible. Rather than giving people reasons to stay happily unfit, give them reasons to be happy AND fit.&lt;/p&gt;

&lt;p&gt;For the longest time, I have been wondered why a country that is so advanced like the US can’t figure out how to solve its gun or obesity problem.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/2019Nov/binary-guns.jpg&quot; class=&quot;img-auto&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Now I got it, because they (the government or at least some politician) does not want that.&lt;/p&gt;

&lt;p&gt;The corporate will pay them much more to keep it the way it is.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Fast food chains, carbonated soda drink companies will be happier to have more people hooked in to its products because they are more accessible and cheaper than 
the healthier choices.&lt;/li&gt;
  &lt;li&gt;Kids are diagnosed with ADHD much more than ever to … make the pharmaceutical companies easier to subscribe them to their products.&lt;/li&gt;
  &lt;li&gt;And guns … some president somewhere actually suggested teachers to have more guns as solutions to School mass shootings… ‘nuff said.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;I feel like we are staring at the inevitable destinations of consumerism machine created by powerful corporations. 
Their hands and legs are PR tactics and unethical marketing.&lt;/p&gt;

&lt;p&gt;Marketing used to be about letting people know about your products and their benefits.&lt;br /&gt;
Now, it is about how to plant an idea into your brain that you need the products regardless of the truth. (just like the Inception movie)&lt;/p&gt;

&lt;p&gt;I think the future lies in sustainable economics and not just profit-driven companies.&lt;br /&gt;
As much as I admire the genius of those marketing tactics, it will lead our world to more destruction. It is time to come back to the basics, to solve the actual problem which is the unsustanable life style caused by consumerism.&lt;/p&gt;

&lt;p&gt;Love this sentence from &lt;strong&gt;Jon Jandai&lt;/strong&gt;:&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;We worked too much until we destroyed everything that feed us”&lt;br /&gt;
&lt;strong&gt;Jon Jandai&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;iframe width=&quot;560&quot; height=&quot;315&quot; src=&quot;https://www.youtube.com/embed/y_E0KwE7zL0&quot; frameborder=&quot;0&quot; allow=&quot;accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture&quot; allowfullscreen=&quot;&quot;&gt;&lt;/iframe&gt;</content><author><name></name></author><category term="life" /><summary type="html">The title might make you think that it is a tech-related post. But by this binary, I meant the polarizing extremes I’ve observed in life. And those ain’t working.</summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="/images/2019Nov/binary-logo.jpg" /></entry><entry xml:lang="en"><title type="html">Docker compose to AWS ECS Part 1</title><link href="/2019/11/03/Docker-compose-to-AWS-ECS.html" rel="alternate" type="text/html" title="Docker compose to AWS ECS Part 1" /><published>2019-11-03T00:00:00+08:00</published><updated>2019-11-03T00:00:00+08:00</updated><id>/2019/11/03/Docker-compose-to-AWS-ECS</id><content type="html" xml:base="/2019/11/03/Docker-compose-to-AWS-ECS.html">&lt;h2 id=&quot;what-are-docker-and-docker-compose-&quot;&gt;What are &lt;code&gt;Docker&lt;/code&gt; and &lt;code&gt;Docker-compose&lt;/code&gt; ?&lt;/h2&gt;

&lt;p&gt;&lt;code&gt;Docker&lt;/code&gt; is a popular technology that allows us to run applications in isolated containers. 
It is similar to the old concept of virtual machines but running faster and consume less computing power.&lt;br /&gt;
&lt;code&gt;Docker-compose&lt;/code&gt; is an awesome tool that helps us orchestrate multiple containers to work together as the whole application.
Having been using &lt;code&gt;Docker-compose&lt;/code&gt; + &lt;code&gt;Docker&lt;/code&gt; for a few years, I am still quite satisfied with the way it handles container’s lifecycle and networking.&lt;/p&gt;

&lt;h2 id=&quot;what-is-aws-ecs-&quot;&gt;What is &lt;code&gt;AWS ECS&lt;/code&gt; ?&lt;/h2&gt;
&lt;p&gt;&lt;a href=&quot;https://docs.aws.amazon.com/en_pv/AmazonECS/latest/developerguide/Welcome.html&quot;&gt;&lt;code&gt;AWS ECS (Amazon Elastic Container Service)&lt;/code&gt;&lt;/a&gt; is a container management service from Amazon. To explain it in simplest term, it is a more powerful, managed version of the &lt;a href=&quot;https://docs.docker.com/engine/swarm/&quot;&gt;&lt;code&gt;Docker-Swarm&lt;/code&gt;&lt;/a&gt; + &lt;code&gt;Docker-Compose&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/2019Nov/ecs-overview.png&quot; class=&quot;img-auto&quot; /&gt;&lt;/p&gt;

&lt;p&gt;With that definition, shouldn’t the conversion from &lt;code&gt;Docker-compose&lt;/code&gt; to &lt;code&gt;AWS ECS&lt;/code&gt; be painless ? Truth is Amazon’s documentations are pretty overwhelming where not just &lt;code&gt;ECS&lt;/code&gt; but a lot of other &lt;code&gt;AWS&lt;/code&gt; Services are involved (&lt;code&gt;ECR&lt;/code&gt;, &lt;code&gt;CloudWatch&lt;/code&gt;, &lt;code&gt;EC2&lt;/code&gt;, &lt;code&gt;Secret Manager&lt;/code&gt;,  &lt;em&gt;optional&lt;/em&gt;: &lt;code&gt;RDS&lt;/code&gt;, &lt;code&gt;S3&lt;/code&gt;, etc.). And when I’ve first started, I feel quite clueless. So this is to help any one who has the same problem.&lt;/p&gt;

&lt;h2 id=&quot;from-compose-to-ecs&quot;&gt;From &lt;code&gt;Compose&lt;/code&gt; to &lt;code&gt;ECS&lt;/code&gt;&lt;/h2&gt;
&lt;p&gt;At start, I’ve wasted quite some time just to understand how are all services on &lt;code&gt;AWS ECS&lt;/code&gt; related to &lt;code&gt;Docker&lt;/code&gt;. For those who are familiar with Docker, here are the direct mappings between AWS and Docker technologies.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/2019Nov/docker-vs-aws.png&quot; class=&quot;img-auto&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;why-&quot;&gt;Why ?&lt;/h3&gt;
&lt;p&gt;Simple, because I wanted to tap on the power of other AWS Managed Services (like &lt;a href=&quot;https://aws.amazon.com/waf/&quot;&gt;&lt;code&gt;AWS WAF&lt;/code&gt;&lt;/a&gt; &lt;a href=&quot;https://aws.amazon.com/guardduty/&quot;&gt;&lt;code&gt;AWS GuardDuty&lt;/code&gt;&lt;/a&gt;, &lt;a href=&quot;https://docs.aws.amazon.com/autoscaling/ec2/userguide/AutoScalingGroup.html&quot;&gt;&lt;code&gt;Auto Scaling Groups&lt;/code&gt;&lt;/a&gt;). It’s fine to run &lt;code&gt;Docker-compose&lt;/code&gt; simply on a normal EC2 instance (just a normal Virtual machine), but we will miss out on other great protection and add on service from AWS.&lt;br /&gt;
One important difference &lt;code&gt;Docker-compose&lt;/code&gt; vs. &lt;code&gt;AWS ECS&lt;/code&gt; is that &lt;code&gt;Docker-compose&lt;/code&gt; is a self-contained service. You can define all the images you need + build image from your code. There is, however, no &lt;code&gt;build&lt;/code&gt; in &lt;code&gt;AWS ECS&lt;/code&gt;.&lt;/p&gt;
&lt;h3 id=&quot;aws-flow&quot;&gt;AWS Flow&lt;/h3&gt;
&lt;p&gt;If you have used &lt;code&gt;Docker service&lt;/code&gt; and &lt;code&gt;Docker swarm&lt;/code&gt; before, it is pretty similar. But if like me, you only used &lt;code&gt;Docker compose&lt;/code&gt; before, then here how it looks like:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/2019Nov/aws-ecs-flow.png&quot; class=&quot;img-auto&quot; /&gt;&lt;/p&gt;

&lt;p&gt;In this part, we will go through just first step to build the container images. &lt;code&gt;Docker-compose&lt;/code&gt; file is pretty self-contained that it can specify a direct build right inside where it is not possible for &lt;code&gt;AWS ECS Task&lt;/code&gt;. So we start with build the images.&lt;/p&gt;

&lt;h3 id=&quot;1-building-images&quot;&gt;1. Building images&lt;/h3&gt;
&lt;p&gt;Take an example of a Docker compose file with a few services.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-ruby&quot; data-lang=&quot;ruby&quot;&gt;&lt;span class=&quot;ss&quot;&gt;version: &lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&apos;2&apos;&lt;/span&gt;
&lt;span class=&quot;ss&quot;&gt;services:
    nginx:
        image: &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;nginx&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:latest&lt;/span&gt;
        &lt;span class=&quot;ss&quot;&gt;hostname: &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;nginx&lt;/span&gt;
    &lt;span class=&quot;ss&quot;&gt;redis:
        image: &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;redis&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:latest&lt;/span&gt;
        &lt;span class=&quot;ss&quot;&gt;hostname: &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;redis&lt;/span&gt;
    &lt;span class=&quot;ss&quot;&gt;web:
        build:
            context: &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;
            &lt;span class=&quot;nf&quot;&gt;dockerfile&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Dockerfile&lt;/span&gt;
        &lt;span class=&quot;ss&quot;&gt;env_file: &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;envs&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;local&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;env&lt;/span&gt;
        &lt;span class=&quot;ss&quot;&gt;command: &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;...&lt;/span&gt;
        &lt;span class=&quot;ss&quot;&gt;ports:
            &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;8000:8000&quot;&lt;/span&gt;
       &lt;span class=&quot;ss&quot;&gt;volumes:
        &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;code&lt;/span&gt;
       &lt;span class=&quot;ss&quot;&gt;depends_on:
        &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;nginx&lt;/span&gt;
        &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;redis&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Only focus on those that we has to build first (in this case: &lt;code&gt;web&lt;/code&gt; service). 
The rest can be easily specify in task definition (ECS equilvalent of Docker-compose file). AWS ECR (Elastic Container Repositories) is Docker Hub equivalent. Process to build and push images is totally similar:&lt;/p&gt;

&lt;p&gt;Create a repository and copy the image&lt;/p&gt;

&lt;p&gt;After done, copy the url for later use. Your url will be in this format: 
&lt;strong&gt;your-account-id&lt;/strong&gt;.dkr.ecr.&lt;strong&gt;your-region&lt;/strong&gt;.amazonaws.com/&lt;strong&gt;your-repo&lt;/strong&gt;:latest&lt;/p&gt;

&lt;p&gt;Building the docker image:
&lt;code&gt;docker build -f Dockerfile -t .&lt;/code&gt;&lt;/p&gt;

&lt;h3 id=&quot;2-define-task-definitions&quot;&gt;2. Define task definitions&lt;/h3&gt;
&lt;p&gt;Think of a ECS Task as a task (long running or one time) that is based on a the docker compose. 
Similar to how we call &lt;code&gt;docker-compose up&lt;/code&gt;, we use &lt;code&gt;AWS ECS Service&lt;/code&gt; to run &lt;code&gt;AWS ECS Task&lt;/code&gt;&lt;/p&gt;

&lt;h4 id=&quot;21-container-images&quot;&gt;2.1 Container images&lt;/h4&gt;
&lt;p&gt;For this part, we keep it simple first. In this section, we define which image repositories to pull and start container.
In part 2, we will look at how to make it check for healthchecks and container dependencies. 
Here is the example of the &lt;code&gt;main&lt;/code&gt; container:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-ruby&quot; data-lang=&quot;ruby&quot;&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;s2&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;web&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;s2&quot;&gt;&quot;essential&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;s2&quot;&gt;&quot;image&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;your-account-id.dkr.ecr.your-region.amazonaws.com/your-repo:latest&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;s2&quot;&gt;&quot;logConfiguration&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;s2&quot;&gt;&quot;logDriver&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;awslogs&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;s2&quot;&gt;&quot;options&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;s2&quot;&gt;&quot;awslogs-group&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;your-group&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;s2&quot;&gt;&quot;awslogs-region&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;your-region&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;s2&quot;&gt;&quot;awslogs-stream-prefix&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;your-prefix&quot;&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h4 id=&quot;22-define-environments-and-secrets&quot;&gt;2.2 Define environments and secrets&lt;/h4&gt;
&lt;p&gt;For each container, you will need some parameters to be passed into it as environments.
AWS divide them into 2 sections:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code&gt;environment&lt;/code&gt;: list of environment variables you want to pass into container but not sensitive information&lt;/li&gt;
  &lt;li&gt;&lt;code&gt;secrets&lt;/code&gt;: same as above except that these are sensitive information&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;It is trivial to declare an &lt;strong&gt;environment&lt;/strong&gt; section:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-ruby&quot; data-lang=&quot;ruby&quot;&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;...&lt;/span&gt;
    &lt;span class=&quot;s2&quot;&gt;&quot;environment&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;s2&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;DJANGO_SETTINGS_MODULE&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;s2&quot;&gt;&quot;value&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;web.settings.staging&quot;&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;...&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;For &lt;strong&gt;secrets&lt;/strong&gt; section, we need to define them as secure/encrypted strings using AWS console. 
To do this, go to your AWS Console, search for &lt;code&gt;System Manager&lt;/code&gt;, click on &lt;code&gt;Parameter Store&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;Create new secure string with properly scoped names like &lt;code&gt;/your-scope/PARAM_NAME&lt;/code&gt; (your-scope can be your environments like staging, production, etc.):&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/2019Nov/aws-param1.png&quot; class=&quot;img-auto&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Enter value for the secret string and save&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/2019Nov/aws-param2.png&quot; class=&quot;img-auto&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Once the param created, your &lt;code&gt;arn&lt;/code&gt; will in the format of &lt;code&gt;arn:aws:ssm:your-region:your-account-id:parameter/your-scope/SECRET_KEY&lt;/code&gt;&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-ruby&quot; data-lang=&quot;ruby&quot;&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;...&lt;/span&gt;
    &lt;span class=&quot;s2&quot;&gt;&quot;secrets&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;s2&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;SECRET_KEY&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;s2&quot;&gt;&quot;value&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;arn:aws:ssm:your-region:your-account-id:parameter/your-scope/SECRET_KEY&quot;&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;...&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h4 id=&quot;23-create-task-definition-with-aws-cli&quot;&gt;2.3 Create task definition with &lt;code&gt;aws cli&lt;/code&gt;&lt;/h4&gt;
&lt;p&gt;It is okay to create a Task Definition from console. 
However, I’ve found it much easier to create task definition using json. 
With all the section above, we can put everything together as a final json (saved as &lt;code&gt;task.json&lt;/code&gt;)&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-ruby&quot; data-lang=&quot;ruby&quot;&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;s2&quot;&gt;&quot;executionRoleArn&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;arn:aws:iam::your-account-id:role/ecsTaskExecutionRole&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;s2&quot;&gt;&quot;containerDefinitions&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;s2&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;web&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;s2&quot;&gt;&quot;essential&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;s2&quot;&gt;&quot;image&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;your-account-id.dkr.ecr.your-region.amazonaws.com/your-repo:latest&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;s2&quot;&gt;&quot;logConfiguration&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;s2&quot;&gt;&quot;logDriver&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;awslogs&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                &lt;span class=&quot;s2&quot;&gt;&quot;options&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                    &lt;span class=&quot;s2&quot;&gt;&quot;awslogs-group&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;your-group&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                    &lt;span class=&quot;s2&quot;&gt;&quot;awslogs-region&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;your-region&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                    &lt;span class=&quot;s2&quot;&gt;&quot;awslogs-stream-prefix&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;your-prefix&quot;&lt;/span&gt;
                &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;
            &lt;span class=&quot;s2&quot;&gt;&quot;environment&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;
                &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                    &lt;span class=&quot;s2&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;DJANGO_SETTINGS_MODULE&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                    &lt;span class=&quot;s2&quot;&gt;&quot;value&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;web.settings.staging&quot;&lt;/span&gt;
                &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;
            &lt;span class=&quot;s2&quot;&gt;&quot;secrets&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;
                &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                    &lt;span class=&quot;s2&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;SECRET_KEY&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                    &lt;span class=&quot;s2&quot;&gt;&quot;value&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;arn:aws:ssm:your-region:your-account-id:parameter/your-scope/SECRET_KEY&quot;&lt;/span&gt;
                &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;
    &lt;span class=&quot;s2&quot;&gt;&quot;cpu&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;1024&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;s2&quot;&gt;&quot;memory&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;1024&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;s2&quot;&gt;&quot;family&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;your-task-family&quot;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;With this json, we can run command to create a task with simple call to &lt;code&gt;aws cli&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;&lt;code&gt;aws ecs register-task-definition --cli-input-json file://task.json&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;Note: the path needs to start with &lt;code&gt;file://&lt;/code&gt; for aws command to be able to find the file.&lt;/p&gt;

&lt;p&gt;With this, you will be able to run the task itself. Next part we will look at how to:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Link multiple containers together with networking and exposed ports&lt;/li&gt;
  &lt;li&gt;Define healthchecks for containers so that we know if the container service is healthy&lt;/li&gt;
  &lt;li&gt;Mount docker volumes and use them in containers&lt;/li&gt;
  &lt;li&gt;Define service for the long running tasks and update the service with new task version&lt;/li&gt;
&lt;/ul&gt;</content><author><name></name></author><category term="tech" /><category term="work" /><summary type="html">What are Docker and Docker-compose ?</summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="/images/2019Nov/compose-ecs.png" /></entry><entry xml:lang="en"><title type="html">My SG cities</title><link href="/2019/07/26/My-SG-Cities.html" rel="alternate" type="text/html" title="My SG cities" /><published>2019-07-26T00:00:00+08:00</published><updated>2019-07-26T00:00:00+08:00</updated><id>/2019/07/26/My-SG-Cities</id><content type="html" xml:base="/2019/07/26/My-SG-Cities.html">&lt;p&gt;&lt;strong&gt;Singapore - Saigon, my “SG” duo&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;2am at Jewel, Singapore. My flight back to Saigon will take off at 7am.&lt;/p&gt;

&lt;p&gt;I should only be here around 4:30am earliest but I had forgotten to return the laptop charger to office and needed to make a detour trip there. So heck, decided to just sleep at the airport like during the student days, just for once. Reached Jewel around 12:15am and it has been fun so far.&lt;/p&gt;

&lt;p&gt;The last few months went by like a flash. Since moving back to work mainly in Vietnam, I’ve been adapted to the new environment. 
The Vietnamese team has sped up the development process quite a bit. There is no more &lt;em&gt;I, myself and me&lt;/em&gt; team. New challenges arrived since I didn’t have any experience on building a team yet. 
This is my first, but so far, I’ve been blessed. We are very close to achieve the key milestone to launch our product which has been in its concept for 5 years and in its cocoon for 1 year plus. Both exciting and scary.&lt;/p&gt;

&lt;p&gt;As the same time, wifey and I now expect a child early next year. I was and still am overwhelmed with joy and worries. At this very moment, I feel like I am not even adult enough to be a father. But what to do, I guess we will grow into it, just like our fathers have done.&lt;/p&gt;

&lt;p&gt;It has been a very exciting year full of challenges and hopefully rewards too.&lt;/p&gt;

&lt;h2 id=&quot;different-environments&quot;&gt;Different environments&lt;/h2&gt;

&lt;p&gt;Sitting here in the airport now is very different from sleeping at budget airline terminal almost a decade back. I was trying to save money then (1.5x night taxi fare from NTU to airport is a no-no-no for a foreign student) and the experience sleeping through was pretty horrible.&lt;/p&gt;

&lt;p&gt;Singapore since then has closed down its budget terminal, adding another terminal 4, Jewel (connector for all terminals) and plenty of other projects that I have lost count on. This, the speed and quality of construction in Singapore, has never stopped to amaze me since the first day I landed 14 years ago. Originating from a country with slow and corrupted construction industry, Singapore has open my eyes in a big way.&lt;/p&gt;

&lt;p&gt;By working in both cities (Singapore and Saigon), I have realized there are so many potentials on both sides.&lt;/p&gt;

&lt;h3 id=&quot;singapore&quot;&gt;Singapore&lt;/h3&gt;
&lt;p&gt;In Singapore, it is the facility and the business environment.
&lt;img src=&quot;/images/2019Jul/singapore.jpg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;About the facility aspect, it has excellent roads/buildings/offices with 24 hr access, covered walk ways everywhere and everything is super well maintained. You won’t realize that until you go to Saigon (or any other cities for that matter, just look at the Hong Kong’s unmaintained version of HDB). Ex: Our Vietnamese office has power shutdown almost every month or 2. I have been in fewer shutdowns in the total 14 years I stayed in Singapore.
Business environment in Singapore is extremely supportive for SME. Low tax rate, even none for low revenue company. There are grants that SME can tap in as well. Also, all services could be done online from filing tax to renew your business. It is not like that at all in Vietnam.&lt;/p&gt;

&lt;h3 id=&quot;saigon&quot;&gt;Saigon&lt;/h3&gt;
&lt;p&gt;Saigon, however, is more vibrant on the human resource market. 
&lt;img src=&quot;/images/2019Jul/saigon.jpg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;The developers I’ve found in Saigon are hungrier and managing stresses better than in Singapore (or maybe I just suck at hiring. idk). 
I have always found it hard to make a Singaporean employee/ subordinate feel the urgency to act. 
To be honest, I think a lot of Singaporeans don’t even need a job since they are already quite well off. 
(From my experience, it is also not common for a Singapore company to sack its staff. Usually it is a gentle asking for resign).&lt;/p&gt;

&lt;p&gt;That’s not the case in Saigon. The city is still under developed, its first metro plan will probably still be delayed until 2025. 
There are a lot more problems to solve in Saigon than in Singapore. 
Therefore, there are more opportunities as well.&lt;/p&gt;

&lt;p&gt;At the same time, it is much harder to hire people in Singapore with the ratio quota for Singaporean vs. Foreigner. This is a challenge for SME because Singaporeans will usually ask for higher salary.&lt;/p&gt;

&lt;p&gt;I do love both cities, one has given me the root, the home, shaping my basic view on life, the other one has given me the freedom/comfort to grow into what I want to be. I feel like there are so much these 2 cities can learn from each other.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Singapore will then be happier and Saigon will be then more advanced and comfortable.&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;This is the end of my rambling, see you again maybe at another 2am.&lt;/p&gt;</content><author><name></name></author><category term="life" /><category term="work" /><summary type="html">Singapore - Saigon, my “SG” duo</summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="/images/2019Jul/sg-duo.png" /></entry><entry xml:lang="en"><title type="html">Music from command line</title><link href="/2019/03/03/Music-from-command.html" rel="alternate" type="text/html" title="Music from command line" /><published>2019-03-03T00:00:00+08:00</published><updated>2019-03-03T00:00:00+08:00</updated><id>/2019/03/03/Music-from-command</id><content type="html" xml:base="/2019/03/03/Music-from-command.html">&lt;p&gt;Pretty sure I am very late to the game but only recently I’ve found out how to 
download and listen to music right from the &lt;code&gt;Terminal&lt;/code&gt; (or &lt;code&gt;iTerm2&lt;/code&gt;, whichever your terminal is).&lt;/p&gt;

&lt;p&gt;It’s great, everything is seamless.
My combination is &lt;a href=&quot;https://cmus.github.io/&quot;&gt;cmus&lt;/a&gt; as player and &lt;a href=&quot;https://github.com/rg3/youtube-dl&quot;&gt;youtube-dl&lt;/a&gt;.&lt;/p&gt;

&lt;h2 id=&quot;download-youtube-music-with-youtube-dl&quot;&gt;Download youtube music with &lt;code&gt;youtube-dl&lt;/code&gt;&lt;/h2&gt;
&lt;hr /&gt;

&lt;p&gt;&lt;strong&gt;1. Installation&lt;/strong&gt;&lt;br /&gt;
On Mac, with &lt;code&gt;Homebrew&lt;/code&gt;, it’s just a command away:&lt;br /&gt;
&lt;code&gt;brew install youtube-dl&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;or with &lt;code&gt;MacPorts&lt;/code&gt;:&lt;br /&gt;
&lt;code&gt;sudo port install youtube-dl&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;2. Add alias for common usage&lt;/strong&gt;&lt;br /&gt;
&lt;code&gt;youtube-dl&lt;/code&gt; is a very powerful tool to download video/audio from Youtube.&lt;br /&gt;
Its syntax is, therefore, also pretty complicated.&lt;/p&gt;

&lt;p&gt;For my usage, I simply needed the mp3 versions of the music videos. 
Also some of the meta information like artist and title should be correct at least for easier classification later.&lt;/p&gt;

&lt;p&gt;So here are 3 aliases that I commonly used to make the downloading easier:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-ruby&quot; data-lang=&quot;ruby&quot;&gt;&lt;span class=&quot;k&quot;&gt;alias&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ytdl&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;youtube-dl --extract-audio --audio-format mp3 --add-metadata --metadata-from-title &lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;(?P&amp;lt;title&amp;gt;.+?) (-|_|&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\|&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;) (?P&amp;lt;artist&amp;gt;.+)&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; -o &lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;%(title)s.mkv&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;  
&lt;span class=&quot;k&quot;&gt;alias&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ytdl&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;atal&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;youtube-dl --extract-audio --audio-format mp3 --add-metadata --metadata-from-title &lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;(?P&amp;lt;title&amp;gt;.+?) (-|_|&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\|&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;) (?P&amp;lt;artist&amp;gt;.+) (-|_|&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\|&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;) (?P&amp;lt;album&amp;gt;.+)&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; -o &lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;%(title)s.mkv&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;alias&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ytdl&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ta&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;youtube-dl --extract-audio --audio-format mp3 --add-metadata --metadata-from-title &lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;(?P&amp;lt;artist&amp;gt;.+?) (-|_|&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\|&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;) (?P&amp;lt;title&amp;gt;.+)&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; -o &lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;%(title)s.mkv&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;You can put this to your &lt;code&gt;.bashrc&lt;/code&gt;, and start using as follow:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-ruby&quot; data-lang=&quot;ruby&quot;&gt;&lt;span class=&quot;sb&quot;&gt;`ytdl [youtube url]`&lt;/span&gt;  &lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;What the commands will be doing are:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Extract audio and save the mp3 version of youtube video specify&lt;/li&gt;
  &lt;li&gt;Save meta infos like &lt;code&gt;artist&lt;/code&gt; and &lt;code&gt;title&lt;/code&gt; according to partern&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;For &lt;code&gt;ytdl&lt;/code&gt;, the pattern is:&lt;/strong&gt; &lt;code&gt;[title] [separator] [artist]&lt;/code&gt;, in which &lt;code&gt;[separator]&lt;/code&gt; can be &lt;code&gt;-&lt;/code&gt; or &lt;code&gt;_&lt;/code&gt; or &lt;code&gt;|&lt;/code&gt;&lt;br /&gt;
For example, in the case of following video:&lt;/p&gt;
&lt;iframe width=&quot;560&quot; height=&quot;315&quot; src=&quot;https://www.youtube.com/embed/aTgXgN9fOsk&quot; frameborder=&quot;0&quot; allow=&quot;accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture&quot; allowfullscreen=&quot;&quot;&gt;&lt;/iframe&gt;

&lt;ul&gt;
  &lt;li&gt;The &lt;code&gt;title&lt;/code&gt; will be: &lt;code&gt;(Charlie Puth) Attention&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;The &lt;code&gt;artist&lt;/code&gt; will be:  &lt;code&gt;Josephine Alexandra | Fingerstyle Guitar Cover&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;I used short forms of &lt;code&gt;artist&lt;/code&gt; (&lt;code&gt;a&lt;/code&gt;), &lt;code&gt;title&lt;/code&gt; (&lt;code&gt;t&lt;/code&gt;), &lt;code&gt;album&lt;/code&gt; (&lt;code&gt;al&lt;/code&gt;) as reminder how the pattern looks like&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;For &lt;code&gt;ytdl-atal&lt;/code&gt; (or &lt;code&gt;artist&lt;/code&gt;, &lt;code&gt;title&lt;/code&gt;, &lt;code&gt;album&lt;/code&gt;), the pattern is:&lt;/strong&gt; &lt;code&gt;[title] [separator] [artist] [separator] [album]&lt;/code&gt;, in which &lt;code&gt;[separator]&lt;/code&gt; is same as above with extra &lt;code&gt;(&lt;/code&gt; in case of last separator.&lt;/p&gt;

&lt;p&gt;With the same video above, if we use &lt;code&gt;ytdl-atal&lt;/code&gt;  the result would be:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;The &lt;code&gt;title&lt;/code&gt; will be: &lt;code&gt;(Charlie Puth) Attention&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;The &lt;code&gt;artist&lt;/code&gt; will be:  &lt;code&gt;Josephine Alexandra&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;The &lt;code&gt;album&lt;/code&gt; will be:  &lt;code&gt;Fingerstyle Guitar Cover&lt;/code&gt;&lt;br /&gt;
It is still not perfect yet but it is quite enough for me&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;code&gt;ytdl-ta&lt;/code&gt; is just a reverse in order of &lt;code&gt;ytdl&lt;/code&gt;, should be used for cases like in this video:&lt;/p&gt;
&lt;iframe width=&quot;560&quot; height=&quot;315&quot; src=&quot;https://www.youtube.com/embed/tAKnT0g8MtA&quot; frameborder=&quot;0&quot; allow=&quot;accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture&quot; allowfullscreen=&quot;&quot;&gt;&lt;/iframe&gt;

&lt;p&gt;Of course there will be more patterns of title you will see on youtube but those are the common ones.&lt;/p&gt;

&lt;h2 id=&quot;play-music-with-cmus&quot;&gt;Play music with &lt;code&gt;cmus&lt;/code&gt;&lt;/h2&gt;
&lt;hr /&gt;

&lt;p&gt;&lt;strong&gt;1. Installation&lt;/strong&gt;&lt;br /&gt;
Again with magic of &lt;code&gt;Homebrew&lt;/code&gt;, to install &lt;code&gt;cmus&lt;/code&gt; on Mac is simply:&lt;br /&gt;
&lt;code&gt;brew install cmus&lt;/code&gt;
The first installation, I’ve accidentally downloaded and compiled the build on &lt;code&gt;https://cmus.github.io/#download&lt;/code&gt;. But still &lt;code&gt;Homebrew&lt;/code&gt; installation is much better.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;2. Usage&lt;/strong&gt;&lt;br /&gt;
&lt;code&gt;cmus&lt;/code&gt; is a very useful player when you mostly work on Terminal. Its UI has 7 views (that you can switch around using number key 1-7 once cmus open):&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-ruby&quot; data-lang=&quot;ruby&quot;&gt;&lt;span class=&quot;no&quot;&gt;VIEWS&lt;/span&gt;
       &lt;span class=&quot;no&quot;&gt;There&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;are&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;7&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;views&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;cmus&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;  &lt;span class=&quot;no&quot;&gt;Press&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;keys&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;7&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;to&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;change&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;active&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;view&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;

       &lt;span class=&quot;no&quot;&gt;Library&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;view&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
              &lt;span class=&quot;no&quot;&gt;Display&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;all&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tracks&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;so&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;called&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Tracks&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;are&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sorted&lt;/span&gt;
              &lt;span class=&quot;n&quot;&gt;artist&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;album&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tree&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;  &lt;span class=&quot;no&quot;&gt;Artist&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sorting&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;is&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;done&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;alphabetically&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;
              &lt;span class=&quot;no&quot;&gt;Albums&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;are&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sorted&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;by&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;year&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;

       &lt;span class=&quot;no&quot;&gt;Sorted&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;library&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;view&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
              &lt;span class=&quot;no&quot;&gt;Displays&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;same&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;content&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;view&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;but&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;simple&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;list&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;which&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;is&lt;/span&gt;
              &lt;span class=&quot;n&quot;&gt;automatically&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sorted&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;by&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;user&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;criteria&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;

       &lt;span class=&quot;no&quot;&gt;Playlist&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;view&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
              &lt;span class=&quot;no&quot;&gt;Displays&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;editable&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;playlist&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;with&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;optional&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sorting&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;

       &lt;span class=&quot;no&quot;&gt;Play&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Queue&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;view&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
              &lt;span class=&quot;no&quot;&gt;Displays&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;queue&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;of&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tracks&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;which&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;are&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;played&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;next&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;These&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tracks&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;are&lt;/span&gt;
              &lt;span class=&quot;n&quot;&gt;played&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;before&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;anything&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;the&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;playlist&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;or&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;

       &lt;span class=&quot;no&quot;&gt;Browser&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
              &lt;span class=&quot;no&quot;&gt;Directory&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;browser&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;  &lt;span class=&quot;no&quot;&gt;In&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;this&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;view&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;music&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;can&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;be&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;added&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;to&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;either&lt;/span&gt;
              &lt;span class=&quot;n&quot;&gt;the&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;playlist&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;or&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;queue&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;the&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;filesystem&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;

       &lt;span class=&quot;no&quot;&gt;Filters&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;view&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
              &lt;span class=&quot;no&quot;&gt;Lists&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;user&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;defined&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;filters&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;

       &lt;span class=&quot;no&quot;&gt;Settings&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;view&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
              &lt;span class=&quot;no&quot;&gt;Lists&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;keybindings&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;unbound&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;commands&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;and&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;options&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;  &lt;span class=&quot;no&quot;&gt;Remove&lt;/span&gt;
              &lt;span class=&quot;n&quot;&gt;bindings&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;with&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;D&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;or&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;del&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;change&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;bindings&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;and&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;variables&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;with&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;enter&lt;/span&gt;
              &lt;span class=&quot;n&quot;&gt;and&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;toggle&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;variables&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;with&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;space&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;If you are used to use terminal, it won’t be that hard to use &lt;code&gt;cmus&lt;/code&gt;. But to make it easier to remember the list of commands, I recommend this &lt;a href=&quot;https://www.cheatography.com/stephenjjohnson/cheat-sheets/cmus/pdf/&quot;&gt;cheatsheet&lt;/a&gt;&lt;br /&gt;
As of the 2 video above, here is what it will look like after we’ve added them in playlist:&lt;br /&gt;
&lt;img src=&quot;/images/2019Mar/cmus-playlist.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;One thing I definitely loved about &lt;code&gt;cmus&lt;/code&gt; is that the navigation keys are &lt;code&gt;j&lt;/code&gt;, &lt;code&gt;k&lt;/code&gt; for up and down which is super familiar if you used &lt;code&gt;vim&lt;/code&gt;. So again, everything is seamless. 
There are much more functionalities of cmus to explore and I am still in the learning process.&lt;/p&gt;

&lt;p&gt;Hope you will find this useful if you are also late to the game :)&lt;/p&gt;</content><author><name></name></author><category term="life" /><category term="music" /><summary type="html">Pretty sure I am very late to the game but only recently I’ve found out how to download and listen to music right from the Terminal (or iTerm2, whichever your terminal is).</summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="/images/2019Mar/post-music.jpg" /></entry></feed>